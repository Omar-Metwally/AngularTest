<!-- <form>
Control value: {{control.value || 'empty'}}
<mat-form-field [class]="class" [style]="style" appearance="outline">
  <mat-label>{{label}}</mat-label>
  <input #input [placeholder]="placeholder" [type]="type" matInput [formControl]="control"
    [matAutocomplete]="auto" (input)="filter()" (focus)="filter()">
  <mat-autocomplete requireSelection="true" [displayWith]="displayFn" #auto="matAutocomplete" >
    @for (option of filteredOptions; track option) {
    <mat-option [value]="option">{{option.name}}</mat-option>
    } </mat-autocomplete>
</mat-form-field>
</form> -->
<mat-form-field style="width: 100%;" [class]="class" [style]="style" appearance="outline">
  <mat-label>{{label}}</mat-label>
  <input #input [placeholder]="placeholder" [type]="type" matInput [formControl]="control" [matAutocomplete]="auto"
    (input)="filter()" (focus)="filter()">
  <mat-autocomplete (optionSelected)="optionSelected()" #auto="matAutocomplete" requireSelection="true" [displayWith]="displayFn">
    @for (option of filteredOptions; track option) {
    <mat-option [value]="option">{{option.name}}</mat-option>
    }
  </mat-autocomplete>
  <mat-icon *ngIf="icon" mat-icon matSuffix color="primary" style="transform: scaleX(-1)">{{icon}}</mat-icon>
  <mat-error>You have to select an Option</mat-error>
</mat-form-field>