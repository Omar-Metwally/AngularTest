<div class="main-content my-3 shadow">

    <div class="w-100 pt-5 pb-2 row d-flex justify-content-between">
        <div class="col-md-6">
            <h6 class="dish-catalog">Dish Catalogue (5)</h6>
            <p class="line"></p><br>
            <button class="button-on-table btn ">Add New Dish</button>
        </div>
        <div class="col-md-6 position-relative">
            <div class="input-group position-relative">
                <input type="search" [(ngModel)]="searchText" class="form-control ms-3 ps-4" placeholder="Search by name">
                <!-- <input #searchInput type="text" matInput (keyup)="applyFilter(searchInput.value)" class="form-control ms-3 ps-4" placeholder="Search by name"> -->
            </div>
        </div>

    </div>
    <!-- Table content ....<table mat-table [dataSource]="dataSource" matSort>-->
    <div class="table-content  table-responsive w-100 col-md-6 col-sm-12 text-center">
        <table class="table table-hover" style="background-color: #F8F9F8 !important;">
            <thead>
                <tr>
                    <th scope="col">image</th>
                    <th scope="col">title</th>
                    <th scope="col">category</th>
                    <th scope="col">spice level</th>
                    <th scope="col">available</th>
                    <!-- <th scope="col">quantity</th> -->
                    <th scope="col">total sold</th>
                    <th scope="col">price</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr *ngFor="let meal of meals | filter:searchText" class="align-items-center"> -->
                    <tr *ngFor="let meal of meals | filter:searchText"  class="align-items-center">

                    <!-- <td><img  style="width: 94px; height: 78px;" [src]="'https://www.bl-hana.somee.com/' + meal.getMealOptionsRequest[0].image" alt="Meal Image"></td> -->
                    <td> <img  [src]="meal.selectedImage" style="width: 94px; height: 78px;" alt="Meal Image">
                    </td>
                    <td>{{ meal.title}}</td>
                    <td>{{ meal.category }}</td>
                    <td>{{ meal.spiceLevel }}</td>
                    <td>{{ meal.isAvailable }}</td>
                    <!-- <td>{{ meal.availableQuantity }}</td> -->
                    <!-- <td>{{ meal.getMealOptionsRequest[0].mealSizeOption }}</td> -->

                    <td>{{ totalSold}}</td>
                    <td style="color: #31AC18;" >      
                        <!-- <div *ngIf="meal.selectedSize === undefined"> -->
                            <!-- <div *ngIf="meal.selectedSize === undefined"> -->
                                <div *ngIf="meal.selectedSize === undefined ">

                                    {{ meal.GetMealOptionsTable[0].price }} EG
                                    <!-- {{ meal.price }} EG  -->
                        <!-- {{ meal.getMealOptionsTable[0].price }} EG<br> -->
                           <!-- {{ meal.getMealOptionsTable[0].price }} EG   Display default price if size is not selected -->

                        </div>
                        <!--   <span>{{ meal.price }}</span> EG<br> -->
                        <!-- {{ meal.getMealOptionsRequest[0].price}} <span> EG</span><br> -->
                        <div *ngIf="meal.selectedSize !== undefined"> <!-- Display selected size and its corresponding price -->
                            {{ meal.price }} EG
                            <!-- Selected Size: {{ meal.getMealOptionsRequest[meal.selectedSize].mealSizeOption }}<br> -->
                            <!-- {{ meal.getMealOptionsRequest[meal.selectedSize].price}} <span> EG</span> -->
                            <!-- {{ meal.GetMealOptionsTable[meal.selectedSize]?.price }} EG<br> -->
                            <!-- {{ meal.getMealOptionsRequest[meal.selectedSize].price }} EG -->
                          <!-- {{ meal.getMealOptionsTable[meal.selectedSize].price }} EG   Display price based on selected size -->
                            <!-- {{ meal.price }} EG Display price based on selected size -->
                           

                        </div>       
                        <!-- <div class="dots d-flex justify-content-end me-4" >
                            <i><img src="../assets/svg images/3dots.svg" width="15px" height="15px" alt=""></i>
                        </div>                                 -->
                        
                        
                        <!-- <span *ngIf="isSizeAvailable(meal, meal.selectedSize)">
                            Available
                        </span>  -->
                        <!-- <span *ngIf="!isSizeAvailable(meal, meal.selectedSize)">
                            Not Available
                        </span> -->
                    
                        <!-- Available Quantity: {{ meal.availableQuantity }} -->
                        <div class="d-flex justify-content-center align-items-center">
                            <button (click)="selectSize(meal, 0)" [disabled]="!isSizeAvailable(meal, 0)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Small </button>
                            <button (click)="selectSize(meal, 1)" [disabled]="!isSizeAvailable(meal, 1)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Medium</button>
                            <button (click)="selectSize(meal, 2)" [disabled]="!isSizeAvailable(meal, 2)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Large</button>
                        </div>
                    </td>
                    <td>                        
                        <div class="container" (mouseenter)="showDropdown()" (mouseleave)="hideDropdown()">
                        <div class="dots d-flex justify-content-start me-4">
                            <i><img src="../assets/svg images/3dots.svg" width="15px" height="15px" alt=""></i>
                        </div>
                        <div style="position: absolute; left: -130px;" class="dropdown-content">
                            <a class="d-flex justify-content-between " href="#"><span>View</span> <img src="../assets/svg images/Eye.svg" alt=""></a><div class="dropdown-line"></div>
                            <a class="d-flex justify-content-between " href="#"><span>Edit</span> <img src="../assets/svg images/Icon Frame.svg" alt=""></a><div class="dropdown-line"></div>
                            <a class="d-flex justify-content-between " href="#"><span>Delete</span> <img src="../assets/svg images/delete.svg" alt=""></a><div class="dropdown-line"></div>
                        </div>
                    </div>
</td>

               
                </tr>
            </tbody>
        </table>
    </div>
</div>


     <!-- <td style="color: #31AC18;">
                        {{ meal.getMealOptionsRequest[0].price | currency:' '}} <span> EG</span>
                        <div class="d-flex justify-content-center align-items-center">
                            <button (click)="selectSize(meal, 0)" [disabled]="!isSizeAvailable(meal, 0)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Small</button>
                            <button (click)="selectSize(meal, 1)" [disabled]="!isSizeAvailable(meal, 1)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Medium</button>
                            <button (click)="selectSize(meal, 2)" [disabled]="!isSizeAvailable(meal, 2)"
                                class="btn m-1 btn-sm btn-outline border-1 color-button">Large</button>

                        </div>
                    </td> -->